{"version":3,"sources":["webpack:///src/components/cartControl/cartControl.vue","webpack:///./src/components/cartControl/cartControl.vue?c208","webpack:///./src/components/cartControl/cartControl.vue","webpack:///src/components/shopCart/shopCart.vue","webpack:///./src/components/shopCart/shopCart.vue?657e","webpack:///./src/components/shopCart/shopCart.vue","webpack:///src/components/food/food.vue","webpack:///./src/components/food/food.vue?1fa1","webpack:///./src/components/food/food.vue","webpack:///src/components/good/good.vue","webpack:///./src/components/good/good.vue?ccd1","webpack:///./src/components/good/good.vue"],"names":["Object","count","cartControl_cartControl","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","directives","rawName","value","food","expression","on","click","$event","stopPropagation","preventDefault","decreaseCart","_v","_s","addCart","staticRenderFns","components_cartControl_cartControl","__webpack_require__","normalizeComponent","cartControl","ssrContext","Array","Number","total","minPrice","totalPrice","_this","fold","refresh","show","shopCart_shopCart","toggleList","class","highlight","totalCount","_e","deliveryPrice","pay","payClass","payDesc","namde","empty","ref","_l","price","hideList","components_shopCart_shopCart","shopCart_normalizeComponent","shopCart","_this2","data","selectType","time","ratingselect","split","food_food","src","image","alt","hide","sellCount","rating","oldPrice","addFirst","info","select-type","only-content","onlyContent","desc","ratings","increment","incrementTotal","length","needShow","rateType","text","username","width","height","avatar","_f","rateTime","icon-damuzhi","icon-down","components_food_food","food_normalizeComponent","_initScroll","_calculateHeight","i","foodList","y","clientHeight","index","good_good","item","current","currentIndex","selectMenu","type","classMap","selectFood","icon","description","select-foods","selectFoods","delivery-price","seller","min-price","selectedFood","good_Component","good_normalizeComponent","good","__webpack_exports__"],"mappings":"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","file":"static/js/0.042cc07ac80c1d8bef6c.js","sourcesContent":["<template>\n  <div class=\"cartControl\">\n    <transition name=\"fade\">\n      <div class=\"cart-decrease\" v-show=\"food.count>0\" @click.stop.prevent=\"decreaseCart\">\n        <transition name=\"inner\">\n          <span class=\"icon-jian iconfont\"></span>\n        </transition>\n      </div>\n    </transition>\n      <div class=\"cart-count\" v-show=\"food.count>0\">{{food.count}}</div>\n      <div class=\"cart-add icon-jia iconfont\" @click.stop.prevent=\"addCart\"></div>\n  </div>\n</template>\n\n<script>\n  import vue from'vue';\n    export default {\n      props:{\n        food:{\n          type:Object\n        }\n      },\n      created(){\n\n      },\n      methods:{\n        addCart(event){\n          if(!event._constructed){\n            return;// 去掉自带click事件的点击\n          }\n          if(!this.food.count){\n            vue.set(this.food,'count',1);\n          }else{\n            this.food.count++;\n          }\n          //        event.srcElement.outerHTML\n          this.$emit('increment', event.target); // 子组件通过 $emit触发父组件的方法 increment   还\n        },\n        decreaseCart(){\n          if(!event._constructed){\n            return;// 去掉自带click事件的点击\n          }\n          if(this.food.count){\n              this.food.count--;\n          }\n        }\n      }\n    }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @import \"../../common/stylus/index.styl\"\n  .cartControl\n    display inline-block\n    .cart-decrease,.cart-add\n      display inline-block\n      padding 4px 6px 6px 6px\n      color rgb(0,160,220)\n      &.fade-enter-active,&.fade-leave-active{\n        transition all 0.4s linear\n      }\n      &.fade-enter,&.fade-leave-active{\n        opacity 0\n        transform translate3d(24px,0,0)\n      }\n      .inner\n      display inline-block\n      line-height 24px\n      font-size 24px\n      vertical-align top\n      color rgb(0, 160, 220, 0.2)\n      &.inner-enter-active, &.inner-leave-active {\n        transition: all 0.4s linear\n        transform: rotate(0)\n      }\n      &.inner-enter, &.inner-leave-active {\n        opacity: 0\n        transform  rotate(180deg)\n      }\n    .cart-count\n      display inline-block\n      color #000\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/cartControl/cartControl.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cartControl\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.count>0),expression:\"food.count>0\"}],staticClass:\"cart-decrease\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.decreaseCart($event)}}},[_c('transition',{attrs:{\"name\":\"inner\"}},[_c('span',{staticClass:\"icon-jian iconfont\"})])],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.count>0),expression:\"food.count>0\"}],staticClass:\"cart-count\"},[_vm._v(_vm._s(_vm.food.count))]),_vm._v(\" \"),_c('div',{staticClass:\"cart-add icon-jia iconfont\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addCart($event)}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b80e4fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/cartControl/cartControl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3b80e4fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cartControl.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cartControl.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cartControl.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3b80e4fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cartControl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3b80e4fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cartControl/cartControl.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"shopCart\">\n      <div class=\"content\" @click=\"toggleList($event)\">\n        <div class=\"content-left\">\n          <div class=\"logo-wrapper\">\n            <div class=\"logo\" :class=\"{'highlight':totalCount>0}\">\n              <span class=\"iconfont icon-gouwuche\" :class=\"{'highlight':totalCount>0}\"></span>\n            </div>\n            <div class=\"num\" v-if=\"totalCount>0\">{{totalCount}}</div>\n          </div>\n          <div class=\"price\" :class=\"{'highlight':totalPrice>0}\">${{totalPrice}}</div>\n          <div class=\"desc\">另需配送费{{deliveryPrice}}元</div>\n        </div>\n        <div class=\"content-right\" @click.stop.prevent=\"pay\">\n          <div class=\"pay\" :class=\"payClass\" >{{payDesc}}</div>\n        </div>\n      </div>\n      <transition namde=\"fade\">\n        <div class=\"shopcart-list\" v-show=\"listShow\">\n          <div class=\"list-header\">\n            <h1 class=\"title\">购物车</h1>\n            <span class=\"empty\" @click=\"empty\">清空</span>\n          </div>\n          <div class=\"list-content\" ref=\"listContent\">\n            <ul>\n              <li class=\"shopcart-food\" v-for=\"food in selectFoods\">\n                <span class=\"name\">{{food.name}}</span>\n                <div class=\"price\">${{food.price*food.count}}</div>\n                <div class=\"cartControl-wrapper\">\n                  <cartControl :food=\"food\"></cartControl>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </transition>\n    </div>\n    <transition name=\"fade\">\n      <div class=\"list-mask\" @click=\"hideList()\" v-show=\"listShow\"></div>\n    </transition>\n  </div>\n</template>\n\n<script>\n  import cartControl from '../cartControl/cartControl';\n  import BScroll from 'better-scroll';\n    export default {\n      components:{\n        cartControl\n      },\n      data(){\n        return{\n          fold:true\n        }\n      },\n      props:{\n        selectFoods:{\n          type: Array,\n          default(){\n            return []\n          }\n        },\n        deliveryPrice:{\n          type: Number,\n          default: 0\n        },\n        minPrice:{\n          type: Number,\n          default: 0\n        }\n      },\n      created(){},\n      computed:{\n        totalPrice(){\n          let total=0;\n          this.selectFoods.forEach((food)=>{\n            total+=food.price*food.count;\n          })\n          return total;\n        },\n        totalCount(){\n          let count=0;\n          this.selectFoods.forEach((food)=>{\n            count+=food.count\n          })\n          return count;\n        },\n        payDesc(){\n            if(this.totalPrice===0){\n              return `${this.minPrice}元起送`;\n            }else if(this.minPrice>this.totalPrice){\n              let x=this.minPrice-this.totalPrice;\n              return `还差${x}元送`;\n            } else{\n              return `去结算`;\n            }\n        },\n        payClass(){\n            if(this.totalPrice>this.minPrice){\n              return 'enough';\n            }else{\n              return 'no-enough';\n            }\n        },\n        listShow(){\n          if(!this.totalCount){\n            this.fold=true;\n              return false;\n          }\n            let show=!this.fold;\n          if(show){\n            this.$nextTick(()=>{\n              if(!this.scroll){\n                this.scroll=new BScroll(this.$refs.listContent,{\n                    click:true\n                })\n              }else {\n                this.scroll.refresh();\n              }\n            })\n          }\n          return show;\n        },\n      },\n      methods:{\n        toggleList(){\n          if(!this.totalCount){\n            return;\n          }\n          this.fold=!this.fold;\n        },\n        empty(){\n          this.selectFoods.forEach((food)=>{\n            food.count=0;\n          })\n        },\n        hideList(){\n          this.fold=false;\n        },\n        pay(){\n          if(this.totalPrice<this.minPrice){\n            return;\n          }\n          window.alert(\"支付\"+this.totalPrice+\"元\");\n        }\n      }\n    }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @import '../../common/stylus/index.styl'\n  .shopCart\n    position absolute\n    z-index 100\n    left 0\n    bottom 0\n    width 100%\n    height 48px\n    background #141d17\n    .content\n      display flex\n      .content-left\n        flex 1\n        .logo-wrapper,.price,.desc\n          display inline-block\n        .logo-wrapper\n          position relative\n          top -10px\n          margin 0 12px\n          padding 6px\n          width 56px\n          height 56px\n          vertical-align middle\n          border-radius 50%\n          background #141d17\n          .logo\n            width 100%\n            height 100%\n            background #2b343c\n            border-radius 50%\n            text-align center\n            &.highlight\n              background rgb(0,160,220)\n            .icon-gouwuche\n              font-size 24px\n              line-height 44px\n              color #80858a\n              &.highlight\n                color #fff\n          .num\n            position absolute\n            right 0\n            top 0\n            width 24px\n            background red\n            height 16px\n            line-height 16px\n            text-align center\n            color #fff\n            border-radius 16px\n            font-size 9px\n            font-weight 700\n            box-shadow 0 4px 5px 0 rgba(52, 52, 52, 0.87)\n        .price\n          line-height 24px\n          vertical-align top\n          margin-top 12px\n          box-sizing border-box\n          padding-right 12px\n          border-right 1px solid red\n          font-size 16px\n          font-weight 700\n          color #fff\n          &.highlight\n            font-weight bold\n        .desc\n          color #fff\n          font-size 11px\n          line-height 48px\n      .content-right\n        flex 0 0 105px\n        width 105px\n        color #fff\n        text-align center;\n        line-height 56px\n        font-size 16px\n        background: #464343;\n        .pay\n          background: #464343;\n          &.enough\n            background #258014\n            font-weight bold\n            color #fff\n          &.no-enough\n            background: #464343;\n    .shopcart-list\n      position absolute\n      top 0\n      left 0\n      background #fff\n      width 100%\n      z-index -1\n      transform translate3d(0, -100%, 0)\n      &.fade-enter-active,&.fade-leave-active{\n        transition all 0.5s\n        transform translate3d(0, -100%, 0)\n      }\n      &.fade-enter,&.fade-leave-active{\n        transform translate3d(0, 0, 0)\n      }\n      .list-header\n        height 40px\n        line-height 40px\n        padding 0 18px\n        background #f3f5f7\n        border-bottom 1px solid rgba(7, 17, 27, 0.1)\n        .title\n          float left\n          font-size 14px\n          color rgb(7, 17, 27)\n        .empty\n          float right\n          font-size 12px\n          color rgb(0, 160, 220)\n      .list-content\n        padding 0 18px\n        max-height 217px\n        overflow hidden\n        background #ffffff\n        .shopcart-food\n          position relative\n          padding 12px 0\n          box-sizing border-box\n          border-1px(rgba(7, 17, 27, 0.1))\n          .name\n            line-height 24px\n            font-size 14px\n            color rgb(7, 17, 27)\n          .price\n            position absolute\n            right 90px\n            bottom 12px\n            line-height 24px\n            font-size 14px\n            font-weight 700\n            color rgb(240, 20, 20)\n          .cartControl-wrapper\n            position absolute\n            right 0\n            bottom 6px\n  .list-mask\n    width 100%\n    height 100%\n    background rgba(7, 17, 27, 0.6)\n    top 0\n    left 0\n    z-index 40\n    position: fixed;\n    opacity 1\n    &.fade-leave-active,&.fade-enter-active{\n      transition all 0.5s\n      opacity 1\n      background rgba(7, 17, 27, 0.6)\n    }\n    &.fade-leave-active,&.fade-enter{\n      opacity 0\n      background rgba(7, 17, 27, 0)\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/shopCart/shopCart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"shopCart\"},[_c('div',{staticClass:\"content\",on:{\"click\":function($event){_vm.toggleList($event)}}},[_c('div',{staticClass:\"content-left\"},[_c('div',{staticClass:\"logo-wrapper\"},[_c('div',{staticClass:\"logo\",class:{'highlight':_vm.totalCount>0}},[_c('span',{staticClass:\"iconfont icon-gouwuche\",class:{'highlight':_vm.totalCount>0}})]),_vm._v(\" \"),(_vm.totalCount>0)?_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.totalCount))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"price\",class:{'highlight':_vm.totalPrice>0}},[_vm._v(\"$\"+_vm._s(_vm.totalPrice))]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"另需配送费\"+_vm._s(_vm.deliveryPrice)+\"元\")])]),_vm._v(\" \"),_c('div',{staticClass:\"content-right\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.pay($event)}}},[_c('div',{staticClass:\"pay\",class:_vm.payClass},[_vm._v(_vm._s(_vm.payDesc))])])]),_vm._v(\" \"),_c('transition',{attrs:{\"namde\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listShow),expression:\"listShow\"}],staticClass:\"shopcart-list\"},[_c('div',{staticClass:\"list-header\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"购物车\")]),_vm._v(\" \"),_c('span',{staticClass:\"empty\",on:{\"click\":_vm.empty}},[_vm._v(\"清空\")])]),_vm._v(\" \"),_c('div',{ref:\"listContent\",staticClass:\"list-content\"},[_c('ul',_vm._l((_vm.selectFoods),function(food){return _c('li',{staticClass:\"shopcart-food\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_vm._v(\"$\"+_vm._s(food.price*food.count))]),_vm._v(\" \"),_c('div',{staticClass:\"cartControl-wrapper\"},[_c('cartControl',{attrs:{\"food\":food}})],1)])}))])])])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listShow),expression:\"listShow\"}],staticClass:\"list-mask\",on:{\"click\":function($event){_vm.hideList()}}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-74eeb80c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/shopCart/shopCart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74eeb80c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shopCart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopCart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopCart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74eeb80c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shopCart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-74eeb80c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shopCart/shopCart.vue\n// module id = null\n// module chunks = ","<template>\n  <transition name=\"fade\">\n    <div v-show=\"showFlag\" class=\"food\">\n      <div class=\"fond-content\">\n        <div class=\"image-header\">\n          <img :src=\"food.image\" alt=\"\">\n          <div class=\"back\" @click=\"hide\">\n            <i class=\"iconfont icon-zuoyoujiantou\"></i>\n          </div>\n        </div>\n        <div class=\"content\">\n          <h1 class=\"title\">{{food.name}}</h1>\n          <div class=\"detail\">\n            <span class=\"sell-count\">月售{{food.sellCount}}份</span>\n            <span class=\"rating\"> 好评率{{food.rating}}%</span>\n          </div>\n          <div class=\"price\">\n            <span class=\"now\">￥{{food.price}}</span>\n            <span class=\"old\" v-show=\"food.oldPrice\">￥{{food.oldPrice}}</span>\n          </div>\n          <div class=\"cartControl-wrapper\">\n            <cartControl :food=\"food\"></cartControl>\n          </div>\n          <transition name=\"buy\">\n            <div class=\"buy\" @click.stop.prevent=\"addFirst($event)\" v-show=\"!food.count || food.count === 0\">\n              加入购物车\n            </div>\n          </transition>\n        </div>\n        <split></split>\n        <div class=\"info\" v-show=\"food.info\">\n          <h1 class=\"title\">商品信息</h1>\n          <p class=\"text\">{{food.info}}</p>\n        </div>\n        <split></split>\n        <div class=\"rating\">\n          <h1 class=\"title\">商品评价</h1>\n          <ratingselect @increment=\"incrementTotal\" :select-type=\"selectType\" :only-content=\"onlyContent\" :desc=\"desc\" :ratings=\"food.ratings\"></ratingselect>\n          <div class=\"rating-wrapper\">\n            <ul v-show=\"food.ratings && food.ratings.length\">\n              <li v-show=\"needShow(rating.rateType, rating.text)\" class=\"rating-item border-1px\"\n                  v-for=\"rating in food.ratings\">\n                <div class=\"user\">\n                  <span class=\"name\">{{rating.username}}</span>\n                  <img width=\"12\" height=\"12\" :src=rating.avatar alt=\"\" class=\"avatar\">\n                </div>\n                <div class=\"time\">{{rating.rateTime | formatDate}}</div>\n                <p class=\"text\">\n                  <i class=\"iconfont\"\n                     :class=\"{'icon-damuzhi':rating.rateType === 0,'icon-down':rating.rateType === 1,}\"></i>\n                  {{rating.text}}\n                </p>\n              </li>\n            </ul>\n            <div class=\"no-rating\" v-show=\"!food.ratings || food.ratings.length === 0\">暂无评价</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import BScroll from 'better-scroll';\n  import cartControl from '../cartControl/cartControl.vue';\n  import split from '../split/split.vue';\n  import ratingselect from '../ratingselect/ratingselect.vue';\n  import Vue from 'vue';\n  import {formatDate} from '../../common/js/date';\n  const ALL = 2;\n  export default {\n    props: {\n      food: {\n        type: Object\n      }\n    },\n    data () {\n      return {\n        showFlag: false,\n        selectType: ALL,\n        onlyContent: true,\n        desc: {\n          all: '全部',\n          positive: '推荐',\n          negative: '吐槽'\n        }\n      };\n    },\n    methods: {\n      show() {\n        this.showFlag = true;\n        this.selectType = ALL;\n        this.onlyContent = false;\n        this.$nextTick(() => {\n          if (!this.scroll) {\n            this.scroll = new BScroll(this.$el, {\n              click: true\n            });\n          } else {\n            this.scroll.refresh();\n          }\n        });\n      },\n      incrementTotal(type, data) {\n        this[type] = data;\n        this.$nextTick(() => {\n          this.scroll.refresh();\n        });\n      },\n      hide() {\n        this.showFlag = false;\n      },\n      addFirst(event) {\n        if (!event._constructed) {\n          return;\n        }\n        Vue.set(this.food, 'count', 1);\n      },\n      needShow(type, text) {\n        if (this.onlyContent && !text) {\n          return false;\n        }\n        if (this.selectType === ALL) {\n          return true;\n        } else {\n          return type === this.selectType;\n        }\n      }\n    },\n    filters: {\n      formatDate(time) {\n        let date = new Date(time);\n        return formatDate(date, 'yyyy-MM-dd hh:mm');\n      }\n    },\n    components: {\n      cartControl,\n      ratingselect,\n      split\n    }\n  };\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import \"../../common/stylus/index.styl\"\n  .food\n    position fixed\n    left: 0\n    top: 0\n    bottom 48px\n    z-index 30\n    width 100%\n    background #ffffff\n    &.fade-enter-active, &.fade-leave-active {\n      transition: all 0.2s linear\n      transform translate3d(0, 0, 0)\n    }\n    &.fade-enter, &.fade-leave-active {\n      opacity: 0\n      transform translate3d(100%, 0, 0)\n    }\n    .image-header\n      position relative\n      width 100%\n      height 0\n      padding-top 100%\n      img\n        position absolute\n        top 0\n        width 100%\n        height 100%\n      .back\n        position absolute\n        top 10px\n        left 0\n        .iconfont\n          display block\n          padding 10px\n          font-size 20px\n          color #ffffff\n\n    .content\n      position: relative;\n      padding 18px\n      .title\n        line-height 14px\n        margin-bottom 8px\n        font-size 14px\n        font-weight 700\n        color rgb(7, 17, 27)\n      .detail\n        margin-bottom 18px\n        line-height 10px\n        font-size 0\n        height 10px\n        .sell-count, .rating\n          font-size 10px\n          display inline-block\n          color rgb(147, 153, 159)\n        .sell-count\n          margin-right 12px\n      .price\n        font-weight 700px\n        line-height 24px\n        .now\n          margin-right 8px\n          font-size 14px\n          color rgb(240, 20, 20)\n        .old\n          font-size 10px\n          color rgb(147, 153, 159)\n          text-decoration line-through\n      .cartControl-wrapper\n        position absolute\n        right 12px\n        bottom 12px\n      .buy\n        position absolute\n        right 18px\n        bottom 18px\n        z-index 10\n        height 24px\n        line-height 24px\n        padding 0 12px\n        box-sizing border-box\n        border-radius 12px\n        font-size 10px\n        color #fff\n        background rgb(0, 160, 220)\n        &.buy-enter-active, &.buy-leave-active {\n          transition: all 0.2s\n          opacity: 0\n        }\n        &.buy-enter, &.buy-leave-active {\n          opacity: 0\n\n        }\n    .info\n      padding 18px\n      .title\n        line-height 14px\n        margin-bottom 6px\n        font-size 14px\n        color rgb(7, 17, 27)\n      .text\n        font-size 12px\n        line-height 24px\n        padding 0 8px\n        color rgb(77, 85, 93)\n    .rating\n      padding-top 18px\n      .title\n        line-height 14px\n        margin-left 18px\n        font-size 14px\n        color rgb(7, 17, 27)\n      .rating-wrapper\n        padding 0 18px\n        .rating-item\n          position relative\n          padding 16px 0\n          border-1px(rgba(1, 17, 27, 0.1))\n          .user\n            position absolute\n            right 0\n            top 16px\n            font-size 0\n            line-height 12px\n            .name\n              display inline-block\n              vertical-align top\n              font-size 10px\n              color rgb(147, 153, 159)\n              margin-right 6px\n            .avatar\n              border-radius 50%\n          .time\n            margin-bottom 6px\n            line-height 12px\n            font-size 10px\n            color rgb(147, 153, 159)\n          .text\n            line-height 16px\n            font-size 12px\n            color rgb(7, 17, 27)\n            .iconfont\n              margin-right 4px\n              line-height 16px\n              font-size 12px\n            .icon-damuzhi\n              color rgb(0, 160, 220)\n            .icon-down\n              color rgb(147, 153, 159)\n\n        .no-rating\n          padding 16px 0\n          font-size 12px\n          color rgb(147, 153, 159)\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/food/food.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"food\"},[_c('div',{staticClass:\"fond-content\"},[_c('div',{staticClass:\"image-header\"},[_c('img',{attrs:{\"src\":_vm.food.image,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"back\",on:{\"click\":_vm.hide}},[_c('i',{staticClass:\"iconfont icon-zuoyoujiantou\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.food.name))]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('span',{staticClass:\"sell-count\"},[_vm._v(\"月售\"+_vm._s(_vm.food.sellCount)+\"份\")]),_vm._v(\" \"),_c('span',{staticClass:\"rating\"},[_vm._v(\" 好评率\"+_vm._s(_vm.food.rating)+\"%\")])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"now\"},[_vm._v(\"￥\"+_vm._s(_vm.food.price))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.oldPrice),expression:\"food.oldPrice\"}],staticClass:\"old\"},[_vm._v(\"￥\"+_vm._s(_vm.food.oldPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"cartControl-wrapper\"},[_c('cartControl',{attrs:{\"food\":_vm.food}})],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"buy\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.food.count || _vm.food.count === 0),expression:\"!food.count || food.count === 0\"}],staticClass:\"buy\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.addFirst($event)}}},[_vm._v(\"\\n            加入购物车\\n          \")])])],1),_vm._v(\" \"),_c('split'),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.info),expression:\"food.info\"}],staticClass:\"info\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"商品信息\")]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.food.info))])]),_vm._v(\" \"),_c('split'),_vm._v(\" \"),_c('div',{staticClass:\"rating\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"商品评价\")]),_vm._v(\" \"),_c('ratingselect',{attrs:{\"select-type\":_vm.selectType,\"only-content\":_vm.onlyContent,\"desc\":_vm.desc,\"ratings\":_vm.food.ratings},on:{\"increment\":_vm.incrementTotal}}),_vm._v(\" \"),_c('div',{staticClass:\"rating-wrapper\"},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.ratings && _vm.food.ratings.length),expression:\"food.ratings && food.ratings.length\"}]},_vm._l((_vm.food.ratings),function(rating){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.needShow(rating.rateType, rating.text)),expression:\"needShow(rating.rateType, rating.text)\"}],staticClass:\"rating-item border-1px\"},[_c('div',{staticClass:\"user\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(rating.username))]),_vm._v(\" \"),_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"12\",\"height\":\"12\",\"src\":rating.avatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(rating.rateTime)))]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_c('i',{staticClass:\"iconfont\",class:{'icon-damuzhi':rating.rateType === 0,'icon-down':rating.rateType === 1,}}),_vm._v(\"\\n                \"+_vm._s(rating.text)+\"\\n              \")])])})),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.food.ratings || _vm.food.ratings.length === 0),expression:\"!food.ratings || food.ratings.length === 0\"}],staticClass:\"no-rating\"},[_vm._v(\"暂无评价\")])])],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3e0501b3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/food/food.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3e0501b3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./food.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./food.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./food.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3e0501b3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./food.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/food/food.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"good\">\n    <div class=\"menu-wrapper\" ref=\"menuWrapper\">\n      <ul>\n        <li v-for=\"(item,index) in goods\" class=\"menu-item border-1px\" :class=\"{'current':currentIndex === index}\"\n        @click=\"selectMenu(index,$event)\">\n          <span class=\"text \">\n           <span v-show=\"item.type>0\" class=\"icon\" :class=\"classMap[item.type]\"></span>{{item.name}}\n          </span>\n        </li>\n      </ul>\n    </div>\n    <div class=\"foods-wrapper\" ref=\"foodWrapper\">\n      <ul>\n        <li v-for=\"item in goods\" class=\"food-list food-list-hook\">\n          <h1>{{item.name}}</h1>\n          <ul>\n            <li v-for=\"food in item.foods\" class=\"food-item\" @click=\"selectFood(food,$event)\">\n              <div class=\"icon\">\n                <img :src=\"food.icon\" width=\"57\" height=\"57\">\n              </div>\n              <div class=\"content\">\n                <h2 class=\"name\">{{food.name}}</h2>\n                <p class=\"des\">{{food.description}}</p>\n                <div class=\"extra\">\n                    <span class=\"count\">月售{{food.sellCount}}份</span>\n                    <span>好评率{{food.rating}}%</span>\n                </div>\n                <div class=\"price\">\n                  <span class=\"now\">${{food.price}}</span>\n                  <span class=\"old\" v-show=\"food.oldPrice\">${{food.oldPrice}}</span>\n                </div>\n                <div class=\"cartControl-wrapper\">\n                  <cartControl :food=\"food\"></cartControl>\n                </div>\n              </div>\n            </li>\n          </ul>\n\n        </li>\n      </ul>\n    </div>\n    <shopCart :select-foods=\"selectFoods\" :delivery-price=\"seller.deliveryPrice\" :min-price=\"seller.minPrice\"></shopCart>\n    <food :food=\"selectedFood\" ref=\"food\"></food>\n  </div>\n</template>\n\n<script>\n  import BScroll from 'better-scroll';\n  import cartControl from '../cartControl/cartControl';\n  import shopCart from '../shopCart/shopCart';\n  import food from '../food/food';\n  const ERR_OK = 0;\n    export default {\n        props:{\n          seller:{\n            type: Object\n          }\n        },\n      data (){\n        return {\n          goods:[],\n          scrollY: 0,\n          listHeight:[],\n          selectedFood:{}\n        }\n      },\n      components:{\n        cartControl,shopCart,food\n      },\n        created(){\n          this.$ajax.get(\"http://localhost:8080/api/goods\").then(res=>{\n              if(res.data.errno==ERR_OK){\n                this.goods=res.data.data;\n                this.$nextTick(()=>{\n                  this._initScroll();\n                  this._calculateHeight();\n                })\n              }\n          });\n          this.classMap=['decrease','discount','special','invoice','guarantee'];\n        },\n      computed:{\n          currentIndex(){\n            for(let i=0;i<this.listHeight.length;i++){\n              let height1=this.listHeight[i];\n              let height2=this.listHeight[i+1];\n              if(!height2||(this.scrollY>=height1&&this.scrollY<height2)){\n                    return  i;\n              }\n            }\n            return 0;\n          },\n          selectFoods(){\n            let foodList=[];\n            this.goods.forEach((good)=>{\n              good.foods.forEach((food)=>{\n                if(food.count){\n                  foodList.push(food);\n                }\n              })\n            })\n          return foodList;\n        }\n      },\n      methods:{\n        selectFood(food,event){\n          if(!event._constructed){\n            return;\n          }\n          this.selectedFood=food;\n          this.$refs.food.show(); //调用子组建的show方法\n        },\n        _initScroll(){\n          this.menuScroll=new BScroll(this.$refs.menuWrapper,{\n            click:true\n          });\n          this.foodScroll=new BScroll(this.$refs.foodWrapper,{\n            click:true,\n            probeType:3\n          });\n          this.foodScroll.on('scroll',(pos)=>{\n              this.scrollY=Math.abs(Math.round(pos.y));\n          })\n        },\n        _calculateHeight(){\n          let height=0;\n          let foodList=this.$refs.foodWrapper.getElementsByClassName('food-list-hook');\n          this.listHeight.push(height);\n          for(let i=0;i<foodList.length;i++){\n            let item=foodList[i];\n            height+=item.clientHeight;\n            this.listHeight.push(height);\n          }\n        },\n        selectMenu(index,event){\n          if(!event._constructed){\n            return;// 去掉自带click事件的点击\n          }\n          let foodList=this.$refs.foodWrapper.getElementsByClassName('food-list-hook');\n          let el=foodList[index];\n          this.foodScroll.scrollToElement(el,300);\n        }\n      }\n    }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @import \"../../common/stylus/mixin.styl\"\n  .good\n    position absolute\n    left 0\n    bottom 0\n    top 176px\n    overflow hidden\n    display flex\n    width 100%\n    .menu-wrapper\n      flex:0 0 80px\n      width 80px\n      background #f3f5f7\n      .menu-item\n        display table\n        height 54px\n        //width 56px\n        line-height 14px\n        padding 0 12px\n        &.current\n          background #ffffff\n          font-weight bold\n          margin-top -1px\n          z-index 10\n          position relative\n        .icon\n          display inline-block\n          width 12px\n          height 12px\n          vertical-align middle\n          margin-right 2px\n          background-size 12px 12px\n          &.decrease\n            bg-image('decrease_3')\n          &.discount\n            bg-image('discount_3')\n          &.guarantee\n            bg-image('guarantee_3')\n          &.invoice\n            bg-image('invoice_3')\n          &.special\n            bg-image('special_3')\n        .text\n            font-size 12px\n            display table-cell\n            width 56px\n            vertical-align middle\n            border-1px(rgba(7,17,27,0.1))\n    .foods-wrapper\n      flex 1\n      .title\n        padding-left 14px\n        height 26px\n        line-height 26px\n        border-left 2px solid #d9dde1\n        font-size 12px\n        color rgb(147,153,159)\n        background #f3f5f7\n      .food-item\n        display flex\n        margin 18px\n        padding-bottom 18px\n        border-1px(rgba(7,17,27,0.1))\n        &.last-child\n          border-none()\n          margin-bottom 0\n        .icon\n          flex 0 0 57px\n          margin-right 10px\n        .content\n          flex 1\n          .name\n            margin 2px 0 8px 0\n            height 14px\n            line-height 14px\n            font-size 14px\n            color #ccc\n          .des,.extra\n            line-height 10px\n            font-size 10px\n          .des\n            margin-bottom 8px\n          .extra\n            .count\n              margin-right 12px\n          .price\n            font-weight 700\n            line-height 24px\n            .now\n              margin-right 8px\n              color red\n              font-size 14px\n            .old\n              font-size 10px\n              color #8c8c8c\n              text-decoration line-through\n          .cartControl-wrapper\n            position absolute\n            right 0\n            bottom 12px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/good/good.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"good\"},[_c('div',{ref:\"menuWrapper\",staticClass:\"menu-wrapper\"},[_c('ul',_vm._l((_vm.goods),function(item,index){return _c('li',{staticClass:\"menu-item border-1px\",class:{'current':_vm.currentIndex === index},on:{\"click\":function($event){_vm.selectMenu(index,$event)}}},[_c('span',{staticClass:\"text \"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.type>0),expression:\"item.type>0\"}],staticClass:\"icon\",class:_vm.classMap[item.type]}),_vm._v(_vm._s(item.name)+\"\\n        \")])])}))]),_vm._v(\" \"),_c('div',{ref:\"foodWrapper\",staticClass:\"foods-wrapper\"},[_c('ul',_vm._l((_vm.goods),function(item){return _c('li',{staticClass:\"food-list food-list-hook\"},[_c('h1',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('ul',_vm._l((item.foods),function(food){return _c('li',{staticClass:\"food-item\",on:{\"click\":function($event){_vm.selectFood(food,$event)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":food.icon,\"width\":\"57\",\"height\":\"57\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h2',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_vm._v(\" \"),_c('p',{staticClass:\"des\"},[_vm._v(_vm._s(food.description))]),_vm._v(\" \"),_c('div',{staticClass:\"extra\"},[_c('span',{staticClass:\"count\"},[_vm._v(\"月售\"+_vm._s(food.sellCount)+\"份\")]),_vm._v(\" \"),_c('span',[_vm._v(\"好评率\"+_vm._s(food.rating)+\"%\")])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"now\"},[_vm._v(\"$\"+_vm._s(food.price))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(food.oldPrice),expression:\"food.oldPrice\"}],staticClass:\"old\"},[_vm._v(\"$\"+_vm._s(food.oldPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"cartControl-wrapper\"},[_c('cartControl',{attrs:{\"food\":food}})],1)])])}))])}))]),_vm._v(\" \"),_c('shopCart',{attrs:{\"select-foods\":_vm.selectFoods,\"delivery-price\":_vm.seller.deliveryPrice,\"min-price\":_vm.seller.minPrice}}),_vm._v(\" \"),_c('food',{ref:\"food\",attrs:{\"food\":_vm.selectedFood}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-75da1eb9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/good/good.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-75da1eb9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./good.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./good.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./good.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-75da1eb9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./good.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-75da1eb9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/good/good.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}